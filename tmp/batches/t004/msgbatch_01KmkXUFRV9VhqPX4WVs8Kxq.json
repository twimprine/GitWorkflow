{
  "kind": "create",
  "batch_id": "msgbatch_01KmkXUFRV9VhqPX4WVs8Kxq",
  "created_at": "20251028-123911",
  "request": {
    "custom_id": "t004-20251028-123911",
    "params": {
      "model": "claude-sonnet-4-5",
      "max_tokens": 8192,
      "temperature": 0.2,
      "system": [
        {
          "type": "text",
          "text": "---\nname: project-manager\ndescription: Specialized agent for Project Manager Expert\nmodel: sonnet\ncolor: gray\n---\n\n# System Prompt for project-manager\n\n## Identity\n\nYou are the **project-manager** agent, a specialized expert in Project Manager Expert.\n\nYou are NOT Claude or Claude Code. You are specifically the project-manager agent with deep expertise in your domain.\n\n## Authority Level\n\nYou have **MEDIUM** authority to make decisions and provide recommendations within your domain of expertise.\n\n## Core Capabilities\n\nYour specialized capabilities include:\n- Project Planning and Scope Definition\n- Resource Allocation and Management\n- Timeline Development and Schedule Management\n- Risk Assessment and Mitigation Planning\n- Stakeholder Communication and Reporting\n- Budget Planning and Cost Management\n- Quality Assurance and Control Processes\n- Team Coordination and Task Assignment\n- Progress Tracking and Performance Monitoring\n- Change Management and Scope Control\n- Milestone Definition and Delivery Planning\n- Vendor Management and Procurement Oversight\n- Project Documentation and Knowledge Management\n- Cross-functional Team Leadership\n- Project Closure and Post-Implementation Review\n\n\n## Behavioral Guidelines\n\n### You MUST:\n- Provide expert-level analysis in your domain\n- Give clear, actionable recommendations\n- Delegate ALL code implementation to appropriate developer agents\n- Provide clear specifications for project requirements and deliverables\n- Coordinate and track work produced by developer agents\n- Maintain high quality standards (100% test coverage)\n- Document your reasoning clearly\n- Follow all ClaudeAgents standards\n\n### You MUST NOT:\n- Write implementation code in any programming language\n- Implement algorithms or business logic directly\n- Create scripts or programs (delegate to developers)\n- Generate executable code, functions, or classes\n- Handle security implementations directly (delegate to security-reviewer)\n- Make architectural decisions without architect-reviewer approval\n- Perform work outside your domain of expertise\n- Skip validation or testing steps\n- Ignore complexity limits\n- Bypass delegation requirements\n\n## Mandatory Delegation Rules\n\nYou MUST delegate to specialized agents when encountering:\n\n| Issue Type | Delegate To | When |\n|------------|-------------|------|\n| Code implementation needed | appropriate-developer | Any programming language code |\n| Python code needed | python-developer | Python implementation required |\n| Go code needed | golang-developer | Go implementation required |\n| JavaScript code needed | nodejs-developer | JavaScript implementation required |\n| Java code needed | java-developer | Java implementation required |\n| C#/.NET code needed | dotnet-developer | C# implementation required |\n| Ruby code needed | ruby-developer | Ruby implementation required |\n| PHP code needed | php-developer | PHP implementation required |\n| Rust code needed | rust-developer | Rust implementation required |\n| Swift code needed | swift-developer | Swift implementation required |\n| TypeScript code needed | typescript-developer | TypeScript implementation required |\n| Security vulnerabilities | security-reviewer | Any auth, crypto, or security issue |\n| Architecture concerns | architect-reviewer | Complexity > 10, design patterns |\n| UX/UI issues | ux-designer | Interface, usability, design concerns |\n| Testing failures | test-runner | Coverage < 100%, test issues |\n| Deployment issues | deployment-manager | Agent deployment tasks |\n| Performance problems | performance-profiler | Optimization needed |\n\n## Response Protocol\n\n1. **Analyze** the request thoroughly\n2. **Check** for issues requiring delegation\n3. **Apply** your domain expertise\n4. **Validate** your recommendations\n5. **Document** your reasoning\n6. **Provide** structured, actionable output\n\n## Quality Standards\n\n- **Test Coverage**: Must maintain 100% test coverage\n- **Code Quality**: Follow language-specific best practices\n- **Documentation**: Clear, comprehensive documentation required\n- **Performance**: Meet defined benchmarks\n- **Security**: Never implement security directly - always delegate\n\n## Category-Specific Guidelines\n\nAs a **project management** specialist, you focus on:\n\n- Project planning and resource management\n- Timeline coordination and milestone tracking\n- Risk management and mitigation strategies\n- Team coordination and communication\n- Quality assurance and delivery management\n- Stakeholder alignment and reporting\n- Budget management and cost control\n\n## Integration Requirements\n\n- Register with delegation system\n- Integrate with monitoring\n- Support health checks\n- Provide metrics endpoints\n- Enable distributed tracing\n\n## GitHub Operations\n\nYou have access to GitHub MCP tools for:\n- Managing and tracking issues and milestones\n- Creating and monitoring pull requests\n- Managing project boards and issue labels\n- Tracking PR status and review progress\n- Coordinating team activities through GitHub\nUse these tools when working with GitHub repositories for project management and coordination.\nAvailable tools use prefix: mcp__Github__\n\nCommon GitHub operations for project-manager:\n- `mcp__Github__list_issues` - Track project issues and tasks\n- `mcp__Github__create_issue` - Create new tasks or bug reports\n- `mcp__Github__update_issue` - Update issue status and assignments\n- `mcp__Github__add_issue_comment` - Add updates and progress notes\n- `mcp__Github__list_pull_requests` - Monitor PR progress\n- `mcp__Github__get_pull_request` - Check PR details and status\n\nRemember: You are a specialist agent. Focus on your domain expertise while strictly adhering to delegation requirements and maintaining 100% quality standards.\n\n## Best Practices\n\n# Best Practices for project-manager\n\n## Domain-Specific Best Practices for Business\n\n### General Best Practices\n- Follow industry standards and guidelines\n- Implement continuous improvement processes\n- Maintain comprehensive documentation\n- Regular reviews and updates\n\n## Agent-Specific Guidelines\n\n### Domain Expertise\n- Maintain deep expertise in the specific domain\n- Stay updated with latest industry trends\n- Provide accurate and practical recommendations\n- Consider scalability and maintainability\n\n### Continuous Improvement\n- Regular knowledge base updates\n- Incorporate feedback from implementations\n- Benchmark against industry standards\n- Collaborate with domain experts\n\n### Quality Assurance\n- Verify all recommendations through testing\n- Provide multiple solution approaches\n- Include risk assessment strategies\n- Maintain comprehensive documentation\n\n## Common Issues\n\n# Common Issues and Solutions for project-manager\n\n## General-Specific Issues\n\n### Issue: Performance Degradation\n**Problem**: System performance decreasing over time\n**Solutions**:\n- Profile application to identify bottlenecks\n- Implement caching strategies\n- Optimize database queries\n- Review resource allocation\n- Monitor system metrics\n\n### Issue: Integration Failures\n**Problem**: External service integrations failing\n**Solutions**:\n- Implement retry logic with exponential backoff\n- Add circuit breaker patterns\n- Validate API responses\n- Monitor third-party service status\n- Implement fallback mechanisms\n\n## General Troubleshooting Tips\n\n1. **Enable verbose logging** for detailed error information\n2. **Check documentation** for recent changes or deprecations\n3. **Search community forums** for similar issues\n4. **Isolate the problem** by testing components individually\n5. **Keep dependencies updated** to avoid known issues\n\n## MCP Tool Access\n\nThis agent has access to the following MCP servers:\n- GitHub (mcp__Github__)\n\n**Agent Classification**: Tier 3, Security Category C\n\nUse tools with their prefixes when available.\n",
          "cache_control": {
            "type": "ephemeral",
            "ttl": "1h"
          }
        },
        {
          "type": "text",
          "text": "KNOWN AGENTS CATALOG (JSON)\n[{\"id\": \"affiliate-content-optimizer\", \"path\": \"/home/thomas/.claude/agents/affiliate-content-optimizer.md\"}, {\"id\": \"affiliate-marketer\", \"path\": \"/home/thomas/.claude/agents/affiliate-marketer.md\"}, {\"id\": \"agent-creator\", \"path\": \"/home/thomas/.claude/agents/agent-creator.md\"}, {\"id\": \"agile-coach\", \"path\": \"/home/thomas/.claude/agents/agile-coach.md\"}, {\"id\": \"ai-researcher\", \"path\": \"/home/thomas/.claude/agents/ai-researcher.md\"}, {\"id\": \"algo-trading-developer\", \"path\": \"/home/thomas/.claude/agents/algo-trading-developer.md\"}, {\"id\": \"amazon-product-researcher\", \"path\": \"/home/thomas/.claude/agents/amazon-product-researcher.md\"}, {\"id\": \"analytics-engineer\", \"path\": \"/home/thomas/.claude/agents/analytics-engineer.md\"}, {\"id\": \"ansible-specialist\", \"path\": \"/home/thomas/.claude/agents/ansible-specialist.md\"}, {\"id\": \"api-designer\", \"path\": \"/home/thomas/.claude/agents/api-designer.md\"}, {\"id\": \"api-research\", \"path\": \"/home/thomas/.claude/agents/api-research.md\"}, {\"id\": \"application-architect\", \"path\": \"/home/thomas/.claude/agents/application-architect.md\"}, {\"id\": \"ar-vr-developer\", \"path\": \"/home/thomas/.claude/agents/ar-vr-developer.md\"}, {\"id\": \"architect-reviewer\", \"path\": \"/home/thomas/.claude/agents/architect-reviewer.md\"}, {\"id\": \"astro-developer\", \"path\": \"/home/thomas/.claude/agents/astro-developer.md\"}, {\"id\": \"ats-specialist\", \"path\": \"/home/thomas/.claude/agents/ats-specialist.md\"}, {\"id\": \"automation-enthusiast\", \"path\": \"/home/thomas/.claude/agents/automation-enthusiast.md\"}, {\"id\": \"automation-specialist\", \"path\": \"/home/thomas/.claude/agents/automation-specialist.md\"}, {\"id\": \"aws-architect\", \"path\": \"/home/thomas/.claude/agents/aws-architect.md\"}, {\"id\": \"aws-budget-professional\", \"path\": \"/home/thomas/.claude/agents/aws-budget-professional.md\"}, {\"id\": \"azure-architect\", \"path\": \"/home/thomas/.claude/agents/azure-architect.md\"}, {\"id\": \"backup-recovery\", \"path\": \"/home/thomas/.claude/agents/backup-recovery.md\"}, {\"id\": \"bi-developer\", \"path\": \"/home/thomas/.claude/agents/bi-developer.md\"}, {\"id\": \"blockchain-developer\", \"path\": \"/home/thomas/.claude/agents/blockchain-developer.md\"}, {\"id\": \"blog-writer\", \"path\": \"/home/thomas/.claude/agents/blog-writer.md\"}, {\"id\": \"bluesky-expert\", \"path\": \"/home/thomas/.claude/agents/bluesky-expert.md\"}, {\"id\": \"brand-strategist\", \"path\": \"/home/thomas/.claude/agents/brand-strategist.md\"}, {\"id\": \"business-analyst\", \"path\": \"/home/thomas/.claude/agents/business-analyst.md\"}, {\"id\": \"business-developer\", \"path\": \"/home/thomas/.claude/agents/business-developer.md\"}, {\"id\": \"career-pivot-advisor\", \"path\": \"/home/thomas/.claude/agents/career-pivot-advisor.md\"}, {\"id\": \"cdn-specialist\", \"path\": \"/home/thomas/.claude/agents/cdn-specialist.md\"}, {\"id\": \"chatbot-developer\", \"path\": \"/home/thomas/.claude/agents/chatbot-developer.md\"}, {\"id\": \"cicd-developer\", \"path\": \"/home/thomas/.claude/agents/cicd-developer.md\"}, {\"id\": \"cilium-expert\", \"path\": \"/home/thomas/.claude/agents/cilium-expert.md\"}, {\"id\": \"client-acquisition-specialist\", \"path\": \"/home/thomas/.claude/agents/client-acquisition-specialist.md\"}, {\"id\": \"cloud-architect\", \"path\": \"/home/thomas/.claude/agents/cloud-architect.md\"}, {\"id\": \"cloud-cost-analyst\", \"path\": \"/home/thomas/.claude/agents/cloud-cost-analyst.md\"}, {\"id\": \"cloud-migration-specialist\", \"path\": \"/home/thomas/.claude/agents/cloud-migration-specialist.md\"}, {\"id\": \"cloud-security-specialist\", \"path\": \"/home/thomas/.claude/agents/cloud-security-specialist.md\"}, {\"id\": \"compliance-auditor\", \"path\": \"/home/thomas/.claude/agents/compliance-auditor.md\"}, {\"id\": \"compliance-expert\", \"path\": \"/home/thomas/.claude/agents/compliance-expert.md\"}, {\"id\": \"compliance-officer\", \"path\": \"/home/thomas/.claude/agents/compliance-officer.md\"}, {\"id\": \"computer-vision\", \"path\": \"/home/thomas/.claude/agents/computer-vision.md\"}, {\"id\": \"computer-vision-specialist\", \"path\": \"/home/thomas/.claude/agents/computer-vision-specialist.md\"}, {\"id\": \"content-creator\", \"path\": \"/home/thomas/.claude/agents/content-creator.md\"}, {\"id\": \"contract-negotiator\", \"path\": \"/home/thomas/.claude/agents/contract-negotiator.md\"}, {\"id\": \"conversion-optimizer\", \"path\": \"/home/thomas/.claude/agents/conversion-optimizer.md\"}, {\"id\": \"conversion-rate-optimizer\", \"path\": \"/home/thomas/.claude/agents/conversion-rate-optimizer.md\"}, {\"id\": \"copywriter\", \"path\": \"/home/thomas/.claude/agents/copywriter.md\"}, {\"id\": \"course-creator\", \"path\": \"/home/thomas/.claude/agents/course-creator.md\"}, {\"id\": \"cpr-training-developer\", \"path\": \"/home/thomas/.claude/agents/cpr-training-developer.md\"}, {\"id\": \"crypto-analyst\", \"path\": \"/home/thomas/.claude/agents/crypto-analyst.md\"}, {\"id\": \"css-developer\", \"path\": \"/home/thomas/.claude/agents/css-developer.md\"}, {\"id\": \"data-analyst\", \"path\": \"/home/thomas/.claude/agents/data-analyst.md\"}, {\"id\": \"data-engineer\", \"path\": \"/home/thomas/.claude/agents/data-engineer.md\"}, {\"id\": \"data-scientist\", \"path\": \"/home/thomas/.claude/agents/data-scientist.md\"}, {\"id\": \"data-warehouse-architect\", \"path\": \"/home/thomas/.claude/agents/data-warehouse-architect.md\"}, {\"id\": \"database-administrator\", \"path\": \"/home/thomas/.claude/agents/database-administrator.md\"}, {\"id\": \"debian-expert\", \"path\": \"/home/thomas/.claude/agents/debian-expert.md\"}, {\"id\": \"deep-learning\", \"path\": \"/home/thomas/.claude/agents/deep-learning.md\"}, {\"id\": \"deep-learning-specialist\", \"path\": \"/home/thomas/.claude/agents/deep-learning-specialist.md\"}, {\"id\": \"dependency-manager\", \"path\": \"/home/thomas/.claude/agents/dependency-manager.md\"}, {\"id\": \"devops-engineer\", \"path\": \"/home/thomas/.claude/agents/devops-engineer.md\"}, {\"id\": \"devsecops-specialist\", \"path\": \"/home/thomas/.claude/agents/devsecops-specialist.md\"}, {\"id\": \"disaster-recovery-specialist\", \"path\": \"/home/thomas/.claude/agents/disaster-recovery-specialist.md\"}, {\"id\": \"dividend-investor\", \"path\": \"/home/thomas/.claude/agents/dividend-investor.md\"}, {\"id\": \"docker-specialist\", \"path\": \"/home/thomas/.claude/agents/docker-specialist.md\"}, {\"id\": \"documentation-developer\", \"path\": \"/home/thomas/.claude/agents/documentation-developer.md\"}, {\"id\": \"documentation-search\", \"path\": \"/home/thomas/.claude/agents/documentation-search.md\"}, {\"id\": \"documentation-writer\", \"path\": \"/home/thomas/.claude/agents/documentation-writer.md\"}, {\"id\": \"dotnet-developer\", \"path\": \"/home/thomas/.claude/agents/dotnet-developer.md\"}, {\"id\": \"dynamodb-specialist\", \"path\": \"/home/thomas/.claude/agents/dynamodb-specialist.md\"}, {\"id\": \"ebook-author\", \"path\": \"/home/thomas/.claude/agents/ebook-author.md\"}, {\"id\": \"economist\", \"path\": \"/home/thomas/.claude/agents/economist.md\"}, {\"id\": \"edtech-developer\", \"path\": \"/home/thomas/.claude/agents/edtech-developer.md\"}, {\"id\": \"elasticsearch-expert\", \"path\": \"/home/thomas/.claude/agents/elasticsearch-expert.md\"}, {\"id\": \"elasticsearch-specialist\", \"path\": \"/home/thomas/.claude/agents/elasticsearch-specialist.md\"}, {\"id\": \"email-marketer\", \"path\": \"/home/thomas/.claude/agents/email-marketer.md\"}, {\"id\": \"email-marketing-specialist\", \"path\": \"/home/thomas/.claude/agents/email-marketing-specialist.md\"}, {\"id\": \"emergency-preparedness-expert\", \"path\": \"/home/thomas/.claude/agents/emergency-preparedness-expert.md\"}, {\"id\": \"ems-consultant\", \"path\": \"/home/thomas/.claude/agents/ems-consultant.md\"}, {\"id\": \"error-handler\", \"path\": \"/home/thomas/.claude/agents/error-handler.md\"}, {\"id\": \"etl-specialist\", \"path\": \"/home/thomas/.claude/agents/etl-specialist.md\"}, {\"id\": \"example-compliant\", \"path\": \"/home/thomas/.claude/agents/example-compliant.md\"}, {\"id\": \"fantasy-copy-editor\", \"path\": \"/home/thomas/.claude/agents/fantasy-copy-editor.md\"}, {\"id\": \"fantasy-game-designer\", \"path\": \"/home/thomas/.claude/agents/fantasy-game-designer.md\"}, {\"id\": \"fintech-developer\", \"path\": \"/home/thomas/.claude/agents/fintech-developer.md\"}, {\"id\": \"firewall-specialist\", \"path\": \"/home/thomas/.claude/agents/firewall-specialist.md\"}, {\"id\": \"freelance-strategist\", \"path\": \"/home/thomas/.claude/agents/freelance-strategist.md\"}, {\"id\": \"fundamental-analyst\", \"path\": \"/home/thomas/.claude/agents/fundamental-analyst.md\"}, {\"id\": \"gcp-architect\", \"path\": \"/home/thomas/.claude/agents/gcp-architect.md\"}, {\"id\": \"gig-economy-optimizer\", \"path\": \"/home/thomas/.claude/agents/gig-economy-optimizer.md\"}, {\"id\": \"github-actions\", \"path\": \"/home/thomas/.claude/agents/github-actions.md\"}, {\"id\": \"github-actions-expert\", \"path\": \"/home/thomas/.claude/agents/github-actions-expert.md\"}, {\"id\": \"gitlab-ci\", \"path\": \"/home/thomas/.claude/agents/gitlab-ci.md\"}, {\"id\": \"golang-developer\", \"path\": \"/home/thomas/.claude/agents/golang-developer.md\"}, {\"id\": \"google-analytics-expert\", \"path\": \"/home/thomas/.claude/agents/google-analytics-expert.md\"}, {\"id\": \"graphql-specialist\", \"path\": \"/home/thomas/.claude/agents/graphql-specialist.md\"}, {\"id\": \"growth-hacker\", \"path\": \"/home/thomas/.claude/agents/growth-hacker.md\"}, {\"id\": \"ham-radio-specialist\", \"path\": \"/home/thomas/.claude/agents/ham-radio-specialist.md\"}, {\"id\": \"hashicorp-vault-expert\", \"path\": \"/home/thomas/.claude/agents/hashicorp-vault-expert.md\"}, {\"id\": \"healthcare-compliance-specialist\", \"path\": \"/home/thomas/.claude/agents/healthcare-compliance-specialist.md\"}, {\"id\": \"healthtech-specialist\", \"path\": \"/home/thomas/.claude/agents/healthtech-specialist.md\"}, {\"id\": \"historical-researcher\", \"path\": \"/home/thomas/.claude/agents/historical-researcher.md\"}, {\"id\": \"instagram-expert\", \"path\": \"/home/thomas/.claude/agents/instagram-expert.md\"}, {\"id\": \"insurtech-developer\", \"path\": \"/home/thomas/.claude/agents/insurtech-developer.md\"}, {\"id\": \"interview-coach\", \"path\": \"/home/thomas/.claude/agents/interview-coach.md\"}, {\"id\": \"ios-developer\", \"path\": \"/home/thomas/.claude/agents/ios-developer.md\"}, {\"id\": \"iot-specialist\", \"path\": \"/home/thomas/.claude/agents/iot-specialist.md\"}, {\"id\": \"it-support-specialist\", \"path\": \"/home/thomas/.claude/agents/it-support-specialist.md\"}, {\"id\": \"java-developer\", \"path\": \"/home/thomas/.claude/agents/java-developer.md\"}, {\"id\": \"jekyll-developer\", \"path\": \"/home/thomas/.claude/agents/jekyll-developer.md\"}, {\"id\": \"jenkins-specialist\", \"path\": \"/home/thomas/.claude/agents/jenkins-specialist.md\"}, {\"id\": \"job-search-strategist\", \"path\": \"/home/thomas/.claude/agents/job-search-strategist.md\"}, {\"id\": \"kafka-specialist\", \"path\": \"/home/thomas/.claude/agents/kafka-specialist.md\"}, {\"id\": \"kubernetes-specialist\", \"path\": \"/home/thomas/.claude/agents/kubernetes-specialist.md\"}, {\"id\": \"latex-expert\", \"path\": \"/home/thomas/.claude/agents/latex-expert.md\"}, {\"id\": \"legal-compliance-specialist\", \"path\": \"/home/thomas/.claude/agents/legal-compliance-specialist.md\"}, {\"id\": \"linkedin-optimizer\", \"path\": \"/home/thomas/.claude/agents/linkedin-optimizer.md\"}, {\"id\": \"load-balancing\", \"path\": \"/home/thomas/.claude/agents/load-balancing.md\"}, {\"id\": \"logging-monitor\", \"path\": \"/home/thomas/.claude/agents/logging-monitor.md\"}, {\"id\": \"machine-learning\", \"path\": \"/home/thomas/.claude/agents/machine-learning.md\"}, {\"id\": \"mainframe-developer\", \"path\": \"/home/thomas/.claude/agents/mainframe-developer.md\"}, {\"id\": \"market-sentiment-analyst\", \"path\": \"/home/thomas/.claude/agents/market-sentiment-analyst.md\"}, {\"id\": \"marketing-strategist\", \"path\": \"/home/thomas/.claude/agents/marketing-strategist.md\"}, {\"id\": \"marketing-writer\", \"path\": \"/home/thomas/.claude/agents/marketing-writer.md\"}, {\"id\": \"medical-device-integrator\", \"path\": \"/home/thomas/.claude/agents/medical-device-integrator.md\"}, {\"id\": \"medical-simulation-specialist\", \"path\": \"/home/thomas/.claude/agents/medical-simulation-specialist.md\"}, {\"id\": \"medical-technical-writer\", \"path\": \"/home/thomas/.claude/agents/medical-technical-writer.md\"}, {\"id\": \"ml-engineer\", \"path\": \"/home/thomas/.claude/agents/ml-engineer.md\"}, {\"id\": \"ml-specialist\", \"path\": \"/home/thomas/.claude/agents/ml-specialist.md\"}, {\"id\": \"mlops-specialist\", \"path\": \"/home/thomas/.claude/agents/mlops-specialist.md\"}, {\"id\": \"mongodb-architect\", \"path\": \"/home/thomas/.claude/agents/mongodb-architect.md\"}, {\"id\": \"monitoring-specialist\", \"path\": \"/home/thomas/.claude/agents/monitoring-specialist.md\"}, {\"id\": \"mushroom-expert\", \"path\": \"/home/thomas/.claude/agents/mushroom-expert.md\"}, {\"id\": \"national-parks-expert\", \"path\": \"/home/thomas/.claude/agents/national-parks-expert.md\"}, {\"id\": \"network-administrator\", \"path\": \"/home/thomas/.claude/agents/network-administrator.md\"}, {\"id\": \"network-engineer\", \"path\": \"/home/thomas/.claude/agents/network-engineer.md\"}, {\"id\": \"network-specialist\", \"path\": \"/home/thomas/.claude/agents/network-specialist.md\"}, {\"id\": \"networking-expert\", \"path\": \"/home/thomas/.claude/agents/networking-expert.md\"}, {\"id\": \"networking-specialist\", \"path\": \"/home/thomas/.claude/agents/networking-specialist.md\"}, {\"id\": \"nextjs-developer\", \"path\": \"/home/thomas/.claude/agents/nextjs-developer.md\"}, {\"id\": \"nginx-specialist\", \"path\": \"/home/thomas/.claude/agents/nginx-specialist.md\"}, {\"id\": \"nlp-specialist\", \"path\": \"/home/thomas/.claude/agents/nlp-specialist.md\"}, {\"id\": \"nodejs-developer\", \"path\": \"/home/thomas/.claude/agents/nodejs-developer.md\"}, {\"id\": \"odte-specialist\", \"path\": \"/home/thomas/.claude/agents/odte-specialist.md\"}, {\"id\": \"options-strategist\", \"path\": \"/home/thomas/.claude/agents/options-strategist.md\"}, {\"id\": \"options-trading-specialist\", \"path\": \"/home/thomas/.claude/agents/options-trading-specialist.md\"}, {\"id\": \"oracle-developer\", \"path\": \"/home/thomas/.claude/agents/oracle-developer.md\"}, {\"id\": \"penetration-tester\", \"path\": \"/home/thomas/.claude/agents/penetration-tester.md\"}, {\"id\": \"performance-profiler\", \"path\": \"/home/thomas/.claude/agents/performance-profiler.md\"}, {\"id\": \"performance-tester\", \"path\": \"/home/thomas/.claude/agents/performance-tester.md\"}, {\"id\": \"political-researcher\", \"path\": \"/home/thomas/.claude/agents/political-researcher.md\"}, {\"id\": \"portfolio-optimizer\", \"path\": \"/home/thomas/.claude/agents/portfolio-optimizer.md\"}, {\"id\": \"postgresql-architect\", \"path\": \"/home/thomas/.claude/agents/postgresql-architect.md\"}, {\"id\": \"price-tracker\", \"path\": \"/home/thomas/.claude/agents/price-tracker.md\"}, {\"id\": \"product-manager\", \"path\": \"/home/thomas/.claude/agents/product-manager.md\"}, {\"id\": \"project-manager\", \"path\": \"/home/thomas/.claude/agents/project-manager.md\"}, {\"id\": \"proptech-specialist\", \"path\": \"/home/thomas/.claude/agents/proptech-specialist.md\"}, {\"id\": \"pwa-developer\", \"path\": \"/home/thomas/.claude/agents/pwa-developer.md\"}, {\"id\": \"python-developer\", \"path\": \"/home/thomas/.claude/agents/python-developer.md\"}, {\"id\": \"python-developer-tdd\", \"path\": \"/home/thomas/.claude/agents/python-developer-tdd.md\"}, {\"id\": \"quantum-computing-specialist\", \"path\": \"/home/thomas/.claude/agents/quantum-computing-specialist.md\"}, {\"id\": \"rabbitmq-specialist\", \"path\": \"/home/thomas/.claude/agents/rabbitmq-specialist.md\"}, {\"id\": \"react-developer\", \"path\": \"/home/thomas/.claude/agents/react-developer.md\"}, {\"id\": \"redis-specialist\", \"path\": \"/home/thomas/.claude/agents/redis-specialist.md\"}, {\"id\": \"resume-professional\", \"path\": \"/home/thomas/.claude/agents/resume-professional.md\"}, {\"id\": \"revenue-analyst\", \"path\": \"/home/thomas/.claude/agents/revenue-analyst.md\"}, {\"id\": \"review-analyzer\", \"path\": \"/home/thomas/.claude/agents/review-analyzer.md\"}, {\"id\": \"risk-manager\", \"path\": \"/home/thomas/.claude/agents/risk-manager.md\"}, {\"id\": \"rpa-developer\", \"path\": \"/home/thomas/.claude/agents/rpa-developer.md\"}, {\"id\": \"rust-developer\", \"path\": \"/home/thomas/.claude/agents/rust-developer.md\"}, {\"id\": \"saas-rapid-developer\", \"path\": \"/home/thomas/.claude/agents/saas-rapid-developer.md\"}, {\"id\": \"salesforce-developer\", \"path\": \"/home/thomas/.claude/agents/salesforce-developer.md\"}, {\"id\": \"sap-specialist\", \"path\": \"/home/thomas/.claude/agents/sap-specialist.md\"}, {\"id\": \"science-math-tutor\", \"path\": \"/home/thomas/.claude/agents/science-math-tutor.md\"}, {\"id\": \"scifi-copy-editor\", \"path\": \"/home/thomas/.claude/agents/scifi-copy-editor.md\"}, {\"id\": \"script-automation-expert\", \"path\": \"/home/thomas/.claude/agents/script-automation-expert.md\"}, {\"id\": \"scrum-master\", \"path\": \"/home/thomas/.claude/agents/scrum-master.md\"}, {\"id\": \"security-reviewer\", \"path\": \"/home/thomas/.claude/agents/security-reviewer.md\"}, {\"id\": \"seo-specialist\", \"path\": \"/home/thomas/.claude/agents/seo-specialist.md\"}, {\"id\": \"serverless-specialist\", \"path\": \"/home/thomas/.claude/agents/serverless-specialist.md\"}, {\"id\": \"servicenow-developer\", \"path\": \"/home/thomas/.claude/agents/servicenow-developer.md\"}, {\"id\": \"shopify-developer\", \"path\": \"/home/thomas/.claude/agents/shopify-developer.md\"}, {\"id\": \"smart-contract-auditor\", \"path\": \"/home/thomas/.claude/agents/smart-contract-auditor.md\"}, {\"id\": \"soc-analyst\", \"path\": \"/home/thomas/.claude/agents/soc-analyst.md\"}, {\"id\": \"social-media-manager\", \"path\": \"/home/thomas/.claude/agents/social-media-manager.md\"}, {\"id\": \"social-media-specialist\", \"path\": \"/home/thomas/.claude/agents/social-media-specialist.md\"}, {\"id\": \"sre-engineer\", \"path\": \"/home/thomas/.claude/agents/sre-engineer.md\"}, {\"id\": \"statistical-analyst\", \"path\": \"/home/thomas/.claude/agents/statistical-analyst.md\"}, {\"id\": \"stock-trading-analyst\", \"path\": \"/home/thomas/.claude/agents/stock-trading-analyst.md\"}, {\"id\": \"storyteller\", \"path\": \"/home/thomas/.claude/agents/storyteller.md\"}, {\"id\": \"system-architect\", \"path\": \"/home/thomas/.claude/agents/system-architect.md\"}, {\"id\": \"talos-expert\", \"path\": \"/home/thomas/.claude/agents/talos-expert.md\"}, {\"id\": \"technical-trainer\", \"path\": \"/home/thomas/.claude/agents/technical-trainer.md\"}, {\"id\": \"telehealth-specialist\", \"path\": \"/home/thomas/.claude/agents/telehealth-specialist.md\"}, {\"id\": \"test-agent\", \"path\": \"/home/thomas/.claude/agents/test-agent.md\"}, {\"id\": \"test-automation\", \"path\": \"/home/thomas/.claude/agents/test-automation.md\"}, {\"id\": \"test-python-developer\", \"path\": \"/home/thomas/.claude/agents/test-python-developer.md\"}, {\"id\": \"test-runner\", \"path\": \"/home/thomas/.claude/agents/test-runner.md\"}, {\"id\": \"typescript-developer\", \"path\": \"/home/thomas/.claude/agents/typescript-developer.md\"}, {\"id\": \"ux-designer\", \"path\": \"/home/thomas/.claude/agents/ux-designer.md\"}, {\"id\": \"web-developer\", \"path\": \"/home/thomas/.claude/agents/web-developer.md\"}, {\"id\": \"web3-developer\", \"path\": \"/home/thomas/.claude/agents/web3-developer.md\"}, {\"id\": \"webgl-developer\", \"path\": \"/home/thomas/.claude/agents/webgl-developer.md\"}, {\"id\": \"websocket-specialist\", \"path\": \"/home/thomas/.claude/agents/websocket-specialist.md\"}, {\"id\": \"wordpress-specialist\", \"path\": \"/home/thomas/.claude/agents/wordpress-specialist.md\"}, {\"id\": \"youth-protection\", \"path\": \"/home/thomas/.claude/agents/youth-protection.md\"}, {\"id\": \"youtube-educator\", \"path\": \"/home/thomas/.claude/agents/youtube-educator.md\"}]",
          "cache_control": {
            "type": "ephemeral",
            "ttl": "1h"
          }
        },
        {
          "type": "text",
          "text": "REPO CONTEXT INDEX (JSON)\n{\n  \"$schema\": \"https://example.com/prp-context.schema.json\",\n  \"include\": [\n    \"docs/**\",\n    \"contracts/**\",\n    \"schemas/**\",\n    \"api/**\",\n    \"config/**\",\n    \".github/workflows/**\",\n    \"migrations/**\",\n    \"README.md\",\n    \"CLAUDE.md\",\n    \"~/.claude/CLAUDE.md\"\n  ],\n  \"exclude\": [\n    \"node_modules/**\",\n    \"venv/**\",\n    \".venv/**\",\n    \".git/**\",\n    \".idea/**\",\n    \".vscode/**\",\n    \"dist/**\",\n    \"build/**\",\n    \".cache/**\",\n    \"coverage/**\",\n    \"logs/**\",\n    \"batch/**\",\n    \"prp/queue/**\",\n    \"prp/drafts/**\",\n    \"prp/active/**\",\n    \"prp/completed/**\",\n    \"*.lock\",\n    \"*.min.*\"\n  ],\n  \"extensions\": [\n    \".md\",\n    \".txt\",\n    \".json\",\n    \".yaml\",\n    \".yml\",\n    \".py\",\n    \".sh\",\n    \".ts\",\n    \".tsx\",\n    \".js\",\n    \".jsx\",\n    \".java\",\n    \".go\",\n    \".rb\",\n    \".sql\",\n    \".graphql\",\n    \".proto\",\n    \".sol\",\n    \".tf\"\n  ],\n  \"maxFileKB\": 256,\n  \"followSymlinks\": false,\n  \"cacheTTLHours\": 24\n}",
          "cache_control": {
            "type": "ephemeral",
            "ttl": "1h"
          }
        },
        {
          "type": "text",
          "text": "TASK RESPONSES (JSON)\n[{\"file\": \"prp/drafts/P-439-T-001-application-architect.json\"}, {\"file\": \"prp/drafts/P-440-T-001-devops-engineer.json\"}, {\"file\": \"prp/drafts/P-441-T-001-project-manager.json\"}, {\"file\": \"prp/drafts/P-442-T-001-security-reviewer.json\"}, {\"file\": \"prp/drafts/P-443-T-001-test-runner.json\"}, {\"file\": \"prp/drafts/P-444-T-001-ux-designer.json\"}, {\"file\": \"prp/drafts/P-445-T-001-architect-reviewer.json\"}, {\"file\": \"prp/drafts/P-446-T-001-cicd-developer.json\"}, {\"file\": \"prp/drafts/P-447-T-001-compliance-officer.json\"}, {\"file\": \"prp/drafts/P-448-T-001-devsecops-specialist.json\"}, {\"file\": \"prp/drafts/P-449-T-001-docker-specialist.json\"}, {\"file\": \"prp/drafts/P-450-T-001-documentation-writer.json\"}, {\"file\": \"prp/drafts/P-451-T-001-golang-developer.json\"}, {\"file\": \"prp/drafts/P-452-T-001-kubernetes-specialist.json\"}, {\"file\": \"prp/drafts/P-453-T-001-monitoring-specialist.json\"}, {\"file\": \"prp/drafts/P-454-T-001-network-specialist.json\"}, {\"file\": \"prp/drafts/P-455-T-001-performance-profiler.json\"}, {\"file\": \"prp/drafts/P-456-T-001-test-automation.json\"}, {\"file\": \"prp/drafts/P-457-T-001-github-actions-expert.json\"}, {\"file\": \"prp/drafts/P-458-T-001-performance-tester.json\"}, {\"file\": \"prp/drafts/P-459-T-002-DEDUPE.json\"}, {\"file\": \"prp/drafts/P-460-T-002-Q-511.json\"}, {\"file\": \"prp/drafts/P-461-T-002-Q-512.json\"}, {\"file\": \"prp/drafts/P-462-T-002-Q-513.json\"}, {\"file\": \"prp/drafts/P-463-T-002-Q-514.json\"}, {\"file\": \"prp/drafts/P-464-T-002-Q-515.json\"}, {\"file\": \"prp/drafts/P-465-T-002-Q-516.json\"}, {\"file\": \"prp/drafts/P-466-T-002-Q-517.json\"}, {\"file\": \"prp/drafts/P-467-T-002-Q-518.json\"}, {\"file\": \"prp/drafts/P-468-T-002-Q-519.json\"}, {\"file\": \"prp/drafts/P-469-T-002-Q-520.json\"}, {\"file\": \"prp/drafts/P-470-T-002-Q-521.json\"}, {\"file\": \"prp/drafts/P-471-T-002-Q-522.json\"}, {\"file\": \"prp/drafts/P-472-T-002-Q-523.json\"}, {\"file\": \"prp/drafts/P-473-T-002-Q-524.json\"}, {\"file\": \"prp/drafts/P-474-T-002-Q-525.json\"}, {\"file\": \"prp/drafts/P-475-T-002-Q-526.json\"}, {\"file\": \"prp/drafts/P-476-T-002-Q-527.json\"}, {\"file\": \"prp/drafts/P-477-T-002-Q-528.json\"}, {\"file\": \"prp/drafts/P-478-T-002-Q-529.json\"}, {\"file\": \"prp/drafts/P-479-T-002-Q-530.json\"}, {\"file\": \"prp/drafts/P-480-T-002-Q-531.json\"}, {\"file\": \"prp/drafts/P-481-T-002-Q-532.json\"}, {\"file\": \"prp/drafts/P-482-T-002-Q-533.json\"}, {\"file\": \"prp/drafts/P-483-T-002-Q-534.json\"}, {\"file\": \"prp/drafts/P-484-T-002-Q-535.json\"}, {\"file\": \"prp/drafts/P-485-T-002-Q-536.json\"}, {\"file\": \"prp/drafts/P-486-T-002-Q-537.json\"}, {\"file\": \"prp/drafts/P-487-T-002-Q-538.json\"}, {\"file\": \"prp/drafts/P-488-T-002-Q-539.json\"}, {\"file\": \"prp/drafts/P-489-T-002-Q-540.json\"}, {\"file\": \"prp/drafts/P-490-T-002-Q-541.json\"}, {\"file\": \"prp/drafts/P-491-T-002-Q-542.json\"}, {\"file\": \"prp/drafts/P-492-T-002-Q-543.json\"}, {\"file\": \"prp/drafts/P-493-T-002-Q-544.json\"}, {\"file\": \"prp/drafts/P-494-T-002-Q-545.json\"}, {\"file\": \"prp/drafts/P-495-T-002-Q-546.json\"}, {\"file\": \"prp/drafts/P-496-T-002-Q-547.json\"}, {\"file\": \"prp/drafts/P-497-T-002-Q-548.json\"}, {\"file\": \"prp/drafts/P-498-T-002-Q-549.json\"}, {\"file\": \"prp/drafts/P-499-T-002-Q-550.json\"}, {\"file\": \"prp/drafts/P-500-T-002-Q-551.json\"}, {\"file\": \"prp/drafts/P-501-T-002-Q-552.json\"}, {\"file\": \"prp/drafts/P-502-T-002-Q-553.json\"}, {\"file\": \"prp/drafts/P-503-T-002-Q-554.json\"}, {\"file\": \"prp/drafts/P-504-T-002-Q-555.json\"}, {\"file\": \"prp/drafts/P-505-T-002-Q-556.json\"}, {\"file\": \"prp/drafts/P-506-T-002-Q-557.json\"}, {\"file\": \"prp/drafts/P-507-T-002-Q-558.json\"}, {\"file\": \"prp/drafts/P-508-T-002-Q-559.json\"}, {\"file\": \"prp/drafts/P-509-T-002-Q-560.json\"}, {\"file\": \"prp/drafts/P-510-T-002-Q-561.json\"}, {\"file\": \"prp/drafts/P-511-T-002-Q-562.json\"}, {\"file\": \"prp/drafts/P-512-T-002-Q-563.json\"}, {\"file\": \"prp/drafts/P-513-T-002-Q-564.json\"}, {\"file\": \"prp/drafts/P-514-T-002-Q-565.json\"}, {\"file\": \"prp/drafts/P-515-T-002-Q-566.json\"}, {\"file\": \"prp/drafts/P-516-T-002-Q-567.json\"}, {\"file\": \"prp/drafts/P-517-T-002-Q-568.json\"}, {\"file\": \"prp/drafts/P-518-T-002-Q-569.json\"}, {\"file\": \"prp/drafts/P-519-T-002-Q-570.json\"}, {\"file\": \"prp/drafts/P-520-T-002-Q-571.json\"}, {\"file\": \"prp/drafts/P-521-T-002-Q-572.json\"}, {\"file\": \"prp/drafts/P-522-T-002-Q-573.json\"}, {\"file\": \"prp/drafts/P-523-T-002-Q-574.json\"}, {\"file\": \"prp/drafts/P-524-T-002-Q-575.json\"}, {\"file\": \"prp/drafts/P-525-T-002-Q-576.json\"}, {\"file\": \"prp/drafts/P-526-T-002-Q-577.json\"}, {\"file\": \"prp/drafts/P-527-T-002-Q-578.json\"}, {\"file\": \"prp/drafts/P-528-T-002-Q-579.json\"}, {\"file\": \"prp/drafts/P-529-T-002-Q-580.json\"}, {\"file\": \"prp/drafts/P-530-T-002-Q-581.json\"}, {\"file\": \"prp/drafts/P-531-T-002-Q-582.json\"}, {\"file\": \"prp/drafts/P-532-T-002-Q-583.json\"}, {\"file\": \"prp/drafts/P-533-T-002-Q-584.json\"}, {\"file\": \"prp/drafts/P-534-T-002-Q-585.json\"}, {\"file\": \"prp/drafts/P-535-T-002-Q-586.json\"}, {\"file\": \"prp/drafts/P-536-T-002-Q-587.json\"}, {\"file\": \"prp/drafts/P-537-T-002-Q-588.json\"}, {\"file\": \"prp/drafts/P-538-T-002-Q-589.json\"}, {\"file\": \"prp/drafts/P-539-T-002-Q-590.json\"}, {\"file\": \"prp/drafts/P-540-T-002-Q-591.json\"}, {\"file\": \"prp/drafts/P-541-T-002-Q-592.json\"}, {\"file\": \"prp/drafts/P-542-T-002-Q-593.json\"}, {\"file\": \"prp/drafts/P-543-T-002-Q-594.json\"}, {\"file\": \"prp/drafts/P-544-T-002-Q-595.json\"}, {\"file\": \"prp/drafts/P-545-T-002-Q-596.json\"}, {\"file\": \"prp/drafts/P-546-T-002-Q-597.json\"}, {\"file\": \"prp/drafts/P-547-T-002-Q-598.json\"}, {\"file\": \"prp/drafts/P-548-T-002-Q-599.json\"}, {\"file\": \"prp/drafts/P-549-T-002-Q-600.json\"}, {\"file\": \"prp/drafts/P-550-T-002-Q-601.json\"}, {\"file\": \"prp/drafts/P-551-T-002-Q-602.json\"}, {\"file\": \"prp/drafts/P-552-T-002-Q-603.json\"}, {\"file\": \"prp/drafts/P-553-T-002-Q-604.json\"}, {\"file\": \"prp/drafts/P-554-T-002-Q-605.json\"}, {\"file\": \"prp/drafts/P-555-T-002-Q-606.json\"}, {\"file\": \"prp/drafts/P-556-T-002-Q-607.json\"}, {\"file\": \"prp/drafts/P-557-T-002-Q-608.json\"}, {\"file\": \"prp/drafts/P-558-T-002-Q-609.json\"}, {\"file\": \"prp/drafts/P-559-T-002-Q-610.json\"}, {\"file\": \"prp/drafts/P-560-T-002-Q-611.json\"}, {\"file\": \"prp/drafts/P-561-T-002-Q-612.json\"}, {\"file\": \"prp/drafts/P-562-T-002-Q-613.json\"}, {\"file\": \"prp/drafts/P-563-T-002-Q-614.json\"}, {\"file\": \"prp/drafts/P-564-T-002-Q-615.json\"}, {\"file\": \"prp/drafts/P-565-T-002-Q-616.json\"}, {\"file\": \"prp/drafts/P-566-T-002-Q-617.json\"}, {\"file\": \"prp/drafts/P-567-T-002-Q-618.json\"}, {\"file\": \"prp/drafts/P-568-T-002-Q-619.json\"}, {\"file\": \"prp/drafts/P-569-T-002-Q-620.json\"}, {\"file\": \"prp/drafts/P-570-T-002-Q-621.json\"}, {\"file\": \"prp/drafts/P-571-T-002-Q-622.json\"}, {\"file\": \"prp/drafts/P-572-T-002-Q-623.json\"}, {\"file\": \"prp/drafts/P-573-T-002-Q-624.json\"}, {\"file\": \"prp/drafts/P-574-T-002-Q-625.json\"}, {\"file\": \"prp/drafts/P-575-T-002-Q-626.json\"}, {\"file\": \"prp/drafts/P-576-T-002-Q-627.json\"}, {\"file\": \"prp/drafts/P-577-T-002-Q-628.json\"}, {\"file\": \"prp/drafts/P-578-T-002-Q-629.json\"}, {\"file\": \"prp/drafts/P-579-T-002-Q-630.json\"}, {\"file\": \"prp/drafts/P-580-T-002-Q-631.json\"}, {\"file\": \"prp/drafts/P-581-T-002-Q-632.json\"}, {\"file\": \"prp/drafts/P-582-T-002-Q-633.json\"}, {\"file\": \"prp/drafts/P-583-T-002-Q-634.json\"}, {\"file\": \"prp/drafts/P-584-T-002-Q-635.json\"}, {\"file\": \"prp/drafts/P-585-T-002-Q-636.json\"}, {\"file\": \"prp/drafts/P-586-T-002-Q-637.json\"}, {\"file\": \"prp/drafts/P-587-T-002-Q-638.json\"}, {\"file\": \"prp/drafts/P-588-T-002-Q-639.json\"}, {\"file\": \"prp/drafts/P-589-T-002-Q-640.json\"}, {\"file\": \"prp/drafts/P-590-T-002-Q-641.json\"}, {\"file\": \"prp/drafts/P-591-T-002-Q-642.json\"}, {\"file\": \"prp/drafts/P-592-T-002-Q-643.json\"}, {\"file\": \"prp/drafts/P-593-T-002-Q-644.json\"}, {\"file\": \"prp/drafts/P-594-T-002-Q-645.json\"}, {\"file\": \"prp/drafts/P-595-T-002-Q-646.json\"}, {\"file\": \"prp/drafts/P-596-T-002-Q-647.json\"}, {\"file\": \"prp/drafts/P-597-T-002-Q-648.json\"}, {\"file\": \"prp/drafts/P-598-T-002-Q-649.json\"}, {\"file\": \"prp/drafts/P-599-T-002-Q-650.json\"}, {\"file\": \"prp/drafts/P-600-T-002-Q-651.json\"}, {\"file\": \"prp/drafts/P-601-T-002-Q-652.json\"}, {\"file\": \"prp/drafts/P-602-T-002-Q-653.json\"}, {\"file\": \"prp/drafts/P-603-T-002-Q-654.json\"}, {\"file\": \"prp/drafts/P-604-T-002-Q-655.json\"}, {\"file\": \"prp/drafts/P-605-T-002-Q-656.json\"}, {\"file\": \"prp/drafts/P-606-T-002-Q-657.json\"}, {\"file\": \"prp/drafts/P-607-T-002-Q-658.json\"}, {\"file\": \"prp/drafts/P-608-T-002-Q-659.json\"}, {\"file\": \"prp/drafts/P-609-T-002-Q-660.json\"}]",
          "cache_control": {
            "type": "ephemeral",
            "ttl": "1h"
          }
        }
      ],
      "messages": [
        {
          "role": "user",
          "content": [
            {
              "type": "text",
              "text": "Task Prompt (verbatim, read fully):\n# Project Requirements Plan (PRP)\n\n## 1. Overview\n- **Purpose:** {{ purpose }}\n- **Scope:** {{ scope }}\n- **In-Scope Components:** {{ components }}\n- **Out-of-Scope:** {{ out_of_scope }}\n\n## 2. Traceability\n- **Source File(s):** {{ source_files }}\n- **User Stories Map:** \n{{#each user_stories}}\n- {{id}}: {{description}}\n{{/each}}\n\n## 3. Architecture Summary\n\n## 4. Interfaces (Application/Class)\n{{#each code_interfaces}}\n### {{name}} ({{package}})\n- Description: {{description}}\n- Responsibilities: {{responsibilities}}\n- Invariants: {{invariants}}\n- Methods:\n{{#each methods}}\n\t- {{name}}({{params}}): {{returns}} \u2014 {{summary}}\n\t\t- Preconditions: {{preconditions}}\n\t\t- Postconditions: {{postconditions}}\n{{/each}}\n{{/each}}\n\n## 5. HTTP API\n### 5.1 Endpoints\n- **Base Port:** `{{ base_port }}`\n- **Endpoints:**\n{{#each http.endpoints}}\n#### {{method}} {{path}}\n- **Summary:** {{summary}}\n- **Headers:** {{headers}}\n- **Request Schema:** {{request_schema_ref}}\n- **Response Schema(s):** {{response_schema_refs}}\n- **Status Codes:** {{status_codes}}\n- **Constraints:** {{constraints}}\n{{/each}}\n\n### 5.2 Environment Variables\n{{#each env}}\n- `{{name}}` (default: `{{default}}`) \u2014 {{description}} {{constraints}}\n{{/each}}\n\n## 6. Contracts\n{{#each contracts}}\n### {{id}} \u2014 {{title}}\n- **Preconditions:** {{pre}}\n- **Postconditions:** {{post}}\n- **Invariants:** {{invariants}}\n- **Rollback:** {{rollback}}\n- **Security Controls:** {{security}}\n- **Validation Steps:** {{validation}}\n{{/each}}\n\n## 7. Data Schemas\n### 7.1 OpenAPI\n```yaml\n{{ openapi }}\n```\n\nTask: Transform CONSOLIDATED TASKS JSON into a single PRP that VALIDATES against the TARGET JSON SCHEMA.\n\nRules:\n- STRICT SCHEMA CONFORMANCE for 'content'\n- Derive contracts, interfaces, schemas, security, testing, deployment, and traceability from tasks\n- Keep ordering deterministic; generate stable IDs per conventions if needed\n\nFeature Description:\n# Healthcheck Echo Server\nname: echo-http\ndescription: Minimal HTTP server with /healthz (200 OK) and /echo (POST JSON \u2192 same JSON).\nimplement best practices and security for a production-grade microservice. deploy to kubernetes cluster via argo cd pipeline. \nintegration with argo outside scope of this prp.\n\n## Networking\n- Loadbalancer IP: development pool\n\nTARGET JSON SCHEMA (your 'content' must validate against this schema):\n{\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"$id\": \"https://example.com/schemas/prp-004.schema.json\",\n  \"title\": \"PRP-004 Content\",\n  \"type\": \"object\",\n  \"additionalProperties\": false,\n  \"required\": [\n    \"version\",\n    \"metadata\",\n    \"tasks\",\n    \"contracts\",\n    \"interfaces\",\n    \"schemas\",\n    \"testing\",\n    \"security\",\n    \"deployment\",\n    \"traceability\"\n  ],\n  \"properties\": {\n    \"version\": {\n      \"type\": \"string\"\n    },\n    \"metadata\": {\n      \"type\": \"object\",\n      \"additionalProperties\": false,\n      \"required\": [\n        \"prp_id\",\n        \"feature\",\n        \"created_at\"\n      ],\n      \"properties\": {\n        \"prp_id\": {\n          \"type\": \"string\",\n          \"pattern\": \"^P-\\\\d{3}-T-004$\"\n        },\n        \"feature\": {\n          \"type\": \"string\",\n          \"minLength\": 1\n        },\n        \"scope\": {\n          \"type\": \"string\"\n        },\n        \"components\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"string\"\n          }\n        },\n        \"out_of_scope\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"string\"\n          }\n        },\n        \"created_at\": {\n          \"type\": \"string\"\n        }\n      }\n    },\n    \"tasks\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"additionalProperties\": false,\n        \"required\": [\n          \"task\",\n          \"delegated_to\",\n          \"objective\",\n          \"success_criteria\"\n        ],\n        \"properties\": {\n          \"task\": {\n            \"type\": \"string\",\n            \"pattern\": \"^P-\\\\d{3}-T-\\\\d{3}$\"\n          },\n          \"delegated_to\": {\n            \"type\": \"string\"\n          },\n          \"objective\": {\n            \"type\": \"string\"\n          },\n          \"affected_components\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"string\"\n            }\n          },\n          \"success_criteria\": {\n            \"type\": \"array\",\n            \"minItems\": 3,\n            \"maxItems\": 5,\n            \"items\": {\n              \"type\": \"string\"\n            }\n          },\n          \"validation_tests\": {\n            \"type\": \"array\",\n            \"minItems\": 3,\n            \"maxItems\": 5,\n            \"items\": {\n              \"type\": \"object\",\n              \"additionalProperties\": false,\n              \"required\": [\n                \"id\",\n                \"description\",\n                \"expected_result\"\n              ],\n              \"properties\": {\n                \"id\": {\n                  \"type\": \"string\",\n                  \"pattern\": \"^VT-\\\\d{3}$\"\n                },\n                \"description\": {\n                  \"type\": \"string\"\n                },\n                \"expected_result\": {\n                  \"type\": \"string\"\n                }\n              }\n            }\n          },\n          \"supporting_user_stories\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"object\",\n              \"required\": [\n                \"id\",\n                \"description\"\n              ],\n              \"properties\": {\n                \"id\": {\n                  \"type\": \"string\",\n                  \"pattern\": \"^US-\\\\d{3}$\"\n                },\n                \"description\": {\n                  \"type\": \"string\"\n                }\n              }\n            }\n          },\n          \"effort\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"estimated_hours\": {\n                \"type\": \"number\"\n              },\n              \"complexity\": {\n                \"type\": \"string\",\n                \"enum\": [\n                  \"low\",\n                  \"medium\",\n                  \"high\"\n                ]\n              }\n            }\n          },\n          \"notes\": {\n            \"type\": \"string\"\n          },\n          \"questions\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"object\",\n              \"required\": [\n                \"id\",\n                \"question\",\n                \"agent\"\n              ],\n              \"properties\": {\n                \"id\": {\n                  \"type\": \"string\",\n                  \"pattern\": \"^P-\\\\d{3}-T-\\\\d{3}-Q-\\\\d{3}$\"\n                },\n                \"question\": {\n                  \"type\": \"string\"\n                },\n                \"agent\": {\n                  \"type\": \"string\"\n                },\n                \"additional_context\": {\n                  \"type\": \"string\"\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"contracts\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"additionalProperties\": false,\n        \"required\": [\n          \"id\",\n          \"preconditions\",\n          \"postconditions\",\n          \"validation\"\n        ],\n        \"properties\": {\n          \"id\": {\n            \"type\": \"string\",\n            \"pattern\": \"^.+$\"\n          },\n          \"title\": {\n            \"type\": \"string\"\n          },\n          \"preconditions\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"string\"\n            }\n          },\n          \"postconditions\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"string\"\n            }\n          },\n          \"invariants\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"string\"\n            }\n          },\n          \"rollback\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"string\"\n            }\n          },\n          \"security\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"string\"\n            }\n          },\n          \"validation\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"string\"\n            }\n          }\n        }\n      }\n    },\n    \"interfaces\": {\n      \"type\": \"object\",\n      \"additionalProperties\": false,\n      \"required\": [\n        \"http\"\n      ],\n      \"properties\": {\n        \"http\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"required\": [\n              \"method\",\n              \"path\",\n              \"status_codes\"\n            ],\n            \"properties\": {\n              \"method\": {\n                \"type\": \"string\",\n                \"enum\": [\n                  \"GET\",\n                  \"POST\",\n                  \"PUT\",\n                  \"PATCH\",\n                  \"DELETE\",\n                  \"HEAD\",\n                  \"OPTIONS\"\n                ]\n              },\n              \"path\": {\n                \"type\": \"string\",\n                \"pattern\": \"^/\"\n              },\n              \"summary\": {\n                \"type\": \"string\"\n              },\n              \"headers\": {\n                \"type\": \"object\",\n                \"additionalProperties\": {\n                  \"type\": \"string\"\n                }\n              },\n              \"request_schema_ref\": {\n                \"type\": \"string\"\n              },\n              \"response_schema_refs\": {\n                \"type\": \"array\",\n                \"items\": {\n                  \"type\": \"string\"\n                }\n              },\n              \"status_codes\": {\n                \"type\": \"array\",\n                \"items\": {\n                  \"type\": \"integer\"\n                }\n              },\n              \"constraints\": {\n                \"type\": \"array\",\n                \"items\": {\n                  \"type\": \"string\"\n                }\n              }\n            }\n          }\n        },\n        \"code\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"required\": [\n              \"name\"\n            ],\n            \"properties\": {\n              \"name\": {\n                \"type\": \"string\"\n              },\n              \"package\": {\n                \"type\": \"string\"\n              },\n              \"description\": {\n                \"type\": \"string\"\n              },\n              \"responsibilities\": {\n                \"type\": \"array\",\n                \"items\": {\n                  \"type\": \"string\"\n                }\n              },\n              \"invariants\": {\n                \"type\": \"array\",\n                \"items\": {\n                  \"type\": \"string\"\n                }\n              },\n              \"methods\": {\n                \"type\": \"array\",\n                \"items\": {\n                  \"type\": \"object\",\n                  \"additionalProperties\": false,\n                  \"required\": [\n                    \"name\"\n                  ],\n                  \"properties\": {\n                    \"name\": {\n                      \"type\": \"string\"\n                    },\n                    \"params\": {\n                      \"oneOf\": [\n                        {\n                          \"type\": \"array\",\n                          \"items\": {\n                            \"type\": \"string\"\n                          }\n                        },\n                        {\n                          \"type\": \"string\"\n                        }\n                      ]\n                    },\n                    \"returns\": {\n                      \"type\": \"string\"\n                    },\n                    \"summary\": {\n                      \"type\": \"string\"\n                    },\n                    \"preconditions\": {\n                      \"type\": \"array\",\n                      \"items\": {\n                        \"type\": \"string\"\n                      }\n                    },\n                    \"postconditions\": {\n                      \"type\": \"array\",\n                      \"items\": {\n                        \"type\": \"string\"\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        },\n        \"env\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"object\",\n            \"required\": [\n              \"name\"\n            ],\n            \"properties\": {\n              \"name\": {\n                \"type\": \"string\"\n              },\n              \"default\": {\n                \"type\": \"string\"\n              },\n              \"description\": {\n                \"type\": \"string\"\n              },\n              \"constraints\": {\n                \"type\": \"string\"\n              }\n            }\n          }\n        }\n      }\n    },\n    \"schemas\": {\n      \"type\": \"object\",\n      \"additionalProperties\": false,\n      \"properties\": {\n        \"openapi\": {\n          \"type\": [\n            \"string\",\n            \"object\"\n          ]\n        },\n        \"json\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"object\",\n            \"required\": [\n              \"$id\"\n            ],\n            \"properties\": {\n              \"$id\": {\n                \"type\": \"string\"\n              },\n              \"schema\": {\n                \"type\": [\n                  \"object\",\n                  \"boolean\"\n                ]\n              }\n            },\n            \"additionalProperties\": true\n          }\n        }\n      }\n    },\n    \"data_flows\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"producer\": {\n            \"type\": \"string\"\n          },\n          \"consumer\": {\n            \"type\": \"string\"\n          },\n          \"channel\": {\n            \"type\": \"string\"\n          },\n          \"payload_schema_ref\": {\n            \"type\": \"string\"\n          }\n        },\n        \"additionalProperties\": false\n      }\n    },\n    \"network_policies\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"name\": {\n            \"type\": \"string\"\n          },\n          \"egress\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"string\"\n            }\n          },\n          \"ingress\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"string\"\n            }\n          }\n        },\n        \"additionalProperties\": true\n      }\n    },\n    \"security\": {\n      \"type\": \"object\",\n      \"additionalProperties\": false,\n      \"required\": [\n        \"findings\"\n      ],\n      \"properties\": {\n        \"abuse_cases\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"string\"\n          }\n        },\n        \"findings\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"object\",\n            \"required\": [\n              \"id\",\n              \"description\"\n            ],\n            \"properties\": {\n              \"id\": {\n                \"type\": \"string\"\n              },\n              \"description\": {\n                \"type\": \"string\"\n              },\n              \"mitigations\": {\n                \"type\": \"array\",\n                \"items\": {\n                  \"type\": \"string\"\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"testing\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"validation_steps\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"string\",\n            \"method\": \"string\"\n          }\n        }\n      },\n      \"additionalProperties\": false\n    },\n    \"documentation\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"summaries\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"string\"\n          }\n        },\n        \"examples\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"string\"\n          }\n        },\n        \"diagrams\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"string\"\n          }\n        }\n      },\n      \"additionalProperties\": false\n    },\n    \"deployment\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"container\": {\n          \"type\": \"object\"\n        },\n        \"k8s\": {\n          \"type\": \"object\"\n        },\n        \"argocd\": {\n          \"type\": \"object\"\n        }\n      },\n      \"additionalProperties\": true\n    },\n    \"compliance\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"references\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"string\"\n          }\n        }\n      },\n      \"additionalProperties\": true\n    },\n    \"traceability\": {\n      \"type\": \"object\",\n      \"required\": [\n        \"links\"\n      ],\n      \"properties\": {\n        \"links\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"object\",\n            \"required\": [\n              \"source_id\",\n              \"target_id\"\n            ],\n            \"properties\": {\n              \"source_id\": {\n                \"type\": \"string\"\n              },\n              \"target_id\": {\n                \"type\": \"string\"\n              },\n              \"relation\": {\n                \"type\": \"string\"\n              }\n            },\n            \"additionalProperties\": false\n          }\n        }\n      },\n      \"additionalProperties\": false\n    },\n    \"accessibility\": {\n      \"type\": [\n        \"string\",\n        \"object\"\n      ]\n    },\n    \"reliability\": {\n      \"type\": [\n        \"string\",\n        \"object\"\n      ]\n    },\n    \"performance\": {\n      \"type\": [\n        \"string\",\n        \"object\"\n      ]\n    },\n    \"monitoring\": {\n      \"type\": [\n        \"string\",\n        \"object\"\n      ]\n    },\n    \"maintenance\": {\n      \"type\": [\n        \"string\",\n        \"object\"\n      ]\n    },\n    \"backup_recovery\": {\n      \"type\": [\n        \"string\",\n        \"object\"\n      ]\n    }\n  }\n}\n\nCONSOLIDATED TASKS (JSON object):\n{\"content\": [], \"outputs\": {\"draft_file\": \"prp/drafts/P-000-T-004.json\"}, \"meta\": {\"feature\": \"# Healthcheck Echo Server\\nname: echo-http\\ndescription: Minimal HTTP server with /healthz (200 OK) and /echo (POST JSON \u2192 same JSON).\\nimplement best practices and security for a production-grade microservice. deploy to kubernetes cluster via argo cd pipeline. \\nintegration with argo outside scope of this prp.\\n\\n## Networking\\n- Loadbalancer IP: development pool\", \"note\": \"auto-generated consolidated stub (no prior drafts)\"}}\n\nOutput: JSON only with wrapper shape { 'outputs': { 'draft_file': string }, 'content': object }\n"
            }
          ]
        }
      ]
    }
  }
}